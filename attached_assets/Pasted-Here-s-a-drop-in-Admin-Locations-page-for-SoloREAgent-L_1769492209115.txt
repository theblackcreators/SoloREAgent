Here’s a drop-in Admin Locations page for SoloREAgent Leveling System that lets an admin:

✅ select a cohort (admin-only)
✅ loads the cohort’s program_id
✅ lists all locations (“dungeons”) for that program
✅ add new locations
✅ edit zone/name/category/address/mission/lat/lng
✅ delete locations
✅ (optional) quick “set coords” + “fly to” isn’t needed since this is admin data entry

You’ll get:
	•	app/admin/locations/page.tsx
	•	API routes:
	•	app/api/admin/program-by-cohort/route.ts
	•	app/api/admin/locations/route.ts (GET/POST/PATCH/DELETE)

⸻

0) Quick RLS note

Because these admin routes use service role, they will work even with RLS.
Still, we verify the caller is an admin in the cohort before allowing mutations.

⸻

1) API: get program_id for cohort (admin-only)

app/api/admin/program-by-cohort/route.ts

import { NextResponse } from "next/server";
import { supabaseAdmin } from "@/lib/supabaseAdmin";

async function getUserIdFromBearer(req: Request) {
  const auth = req.headers.get("authorization") || "";
  const token = auth.startsWith("Bearer ") ? auth.slice(7) : null;
  if (!token) return null;
  const { data } = await supabaseAdmin.auth.getUser(token);
  return data.user?.id ?? null;
}

export async function GET(req: Request) {
  const userId = await getUserIdFromBearer(req);
  if (!userId) return NextResponse.json({ error: "Unauthorized" }, { status: 401 });

  const { searchParams } = new URL(req.url);
  const cohortId = Number(searchParams.get("cohortId") || "");
  if (!cohortId) return NextResponse.json({ error: "cohortId required" }, { status: 400 });

  // Verify admin
  const { data: mem } = await supabaseAdmin
    .from("cohort_memberships")
    .select("role")
    .eq("cohort_id", cohortId)
    .eq("user_id", userId)
    .maybeSingle();

  if (!mem || mem.role !== "admin") {
    return NextResponse.json({ error: "Admin only" }, { status: 403 });
  }

  const { data: cohort, error } = await supabaseAdmin
    .from("cohorts")
    .select("id, name, program_id")
    .eq("id", cohortId)
    .single();

  if (error) return NextResponse.json({ error: error.message }, { status: 400 });

  return NextResponse.json({ ok: true, cohort });
}


⸻

2) API: Admin Locations CRUD (admin-only)

app/api/admin/locations/route.ts

import { NextResponse } from "next/server";
import { supabaseAdmin } from "@/lib/supabaseAdmin";

async function getUserIdFromBearer(req: Request) {
  const auth = req.headers.get("authorization") || "";
  const token = auth.startsWith("Bearer ") ? auth.slice(7) : null;
  if (!token) return null;
  const { data } = await supabaseAdmin.auth.getUser(token);
  return data.user?.id ?? null;
}

async function assertAdmin(userId: string, cohortId: number) {
  const { data: mem } = await supabaseAdmin
    .from("cohort_memberships")
    .select("role")
    .eq("cohort_id", cohortId)
    .eq("user_id", userId)
    .maybeSingle();

  if (!mem || mem.role !== "admin") return false;
  return true;
}

// GET /api/admin/locations?cohortId=123&programId=456
export async function GET(req: Request) {
  const userId = await getUserIdFromBearer(req);
  if (!userId) return NextResponse.json({ error: "Unauthorized" }, { status: 401 });

  const { searchParams } = new URL(req.url);
  const cohortId = Number(searchParams.get("cohortId") || "");
  const programId = Number(searchParams.get("programId") || "");

  if (!cohortId || !programId) {
    return NextResponse.json({ error: "cohortId and programId required" }, { status: 400 });
  }

  if (!(await assertAdmin(userId, cohortId))) {
    return NextResponse.json({ error: "Admin only" }, { status: 403 });
  }

  const { data, error } = await supabaseAdmin
    .from("locations")
    .select("id, program_id, zone, name, category, address, lat, lng, suggested_mission")
    .eq("program_id", programId)
    .order("zone", { ascending: true })
    .order("name", { ascending: true });

  if (error) return NextResponse.json({ error: error.message }, { status: 400 });

  return NextResponse.json({ ok: true, locations: data || [] });
}

// POST /api/admin/locations  { cohortId, programId, location: {...} }
export async function POST(req: Request) {
  const userId = await getUserIdFromBearer(req);
  if (!userId) return NextResponse.json({ error: "Unauthorized" }, { status: 401 });

  const { cohortId, programId, location } = await req.json();
  if (!cohortId || !programId || !location) {
    return NextResponse.json({ error: "cohortId, programId, location required" }, { status: 400 });
  }

  if (!(await assertAdmin(userId, Number(cohortId)))) {
    return NextResponse.json({ error: "Admin only" }, { status: 403 });
  }

  const payload = {
    program_id: Number(programId),
    zone: String(location.zone || "").trim(),
    name: String(location.name || "").trim(),
    category: String(location.category || "").trim(),
    address: location.address ? String(location.address).trim() : null,
    lat: location.lat === "" || location.lat === null || location.lat === undefined ? null : Number(location.lat),
    lng: location.lng === "" || location.lng === null || location.lng === undefined ? null : Number(location.lng),
    suggested_mission: location.suggested_mission ? String(location.suggested_mission).trim() : null,
  };

  if (!payload.zone || !payload.name || !payload.category) {
    return NextResponse.json({ error: "zone, name, category are required" }, { status: 400 });
  }

  const { data, error } = await supabaseAdmin
    .from("locations")
    .insert(payload)
    .select("id, program_id, zone, name, category, address, lat, lng, suggested_mission")
    .single();

  if (error) return NextResponse.json({ error: error.message }, { status: 400 });

  return NextResponse.json({ ok: true, location: data });
}

// PATCH /api/admin/locations  { cohortId, id, patch }
export async function PATCH(req: Request) {
  const userId = await getUserIdFromBearer(req);
  if (!userId) return NextResponse.json({ error: "Unauthorized" }, { status: 401 });

  const { cohortId, id, patch } = await req.json();
  if (!cohortId || !id || !patch) {
    return NextResponse.json({ error: "cohortId, id, patch required" }, { status: 400 });
  }

  if (!(await assertAdmin(userId, Number(cohortId)))) {
    return NextResponse.json({ error: "Admin only" }, { status: 403 });
  }

  const cleaned: any = {};
  const fields = ["zone","name","category","address","lat","lng","suggested_mission"] as const;

  for (const f of fields) {
    if (f in patch) {
      const v = patch[f];
      if (f === "lat" || f === "lng") {
        cleaned[f] = v === "" || v === null || v === undefined ? null : Number(v);
      } else if (v === "" || v === undefined) {
        cleaned[f] = null;
      } else {
        cleaned[f] = String(v).trim();
      }
    }
  }

  const { data, error } = await supabaseAdmin
    .from("locations")
    .update(cleaned)
    .eq("id", Number(id))
    .select("id, program_id, zone, name, category, address, lat, lng, suggested_mission")
    .single();

  if (error) return NextResponse.json({ error: error.message }, { status: 400 });

  return NextResponse.json({ ok: true, location: data });
}

// DELETE /api/admin/locations  { cohortId, id }
export async function DELETE(req: Request) {
  const userId = await getUserIdFromBearer(req);
  if (!userId) return NextResponse.json({ error: "Unauthorized" }, { status: 401 });

  const { cohortId, id } = await req.json();
  if (!cohortId || !id) {
    return NextResponse.json({ error: "cohortId and id required" }, { status: 400 });
  }

  if (!(await assertAdmin(userId, Number(cohortId)))) {
    return NextResponse.json({ error: "Admin only" }, { status: 403 });
  }

  const { error } = await supabaseAdmin
    .from("locations")
    .delete()
    .eq("id", Number(id));

  if (error) return NextResponse.json({ error: error.message }, { status: 400 });

  return NextResponse.json({ ok: true });
}


⸻

3) Admin Locations UI Page

app/admin/locations/page.tsx

"use client";

import { useEffect, useMemo, useState } from "react";
import Link from "next/link";
import { supabase } from "@/lib/supabaseClient";

type Cohort = { id: number; name: string };
type CohortInfo = { id: number; name: string; program_id: number };

type LocationRow = {
  id: number;
  program_id: number;
  zone: string;
  name: string;
  category: string;
  address: string | null;
  lat: number | null;
  lng: number | null;
  suggested_mission: string | null;
};

const ZONES = ["EaDo", "Humble/Atascocita", "Kingwood", "Summerwood"] as const;

export default function AdminLocationsPage() {
  const [loading, setLoading] = useState(true);
  const [msg, setMsg] = useState("");

  const [cohorts, setCohorts] = useState<Cohort[]>([]);
  const [cohortId, setCohortId] = useState<number | null>(null);
  const [cohortInfo, setCohortInfo] = useState<CohortInfo | null>(null);
  const programId = cohortInfo?.program_id ?? null;

  const [locations, setLocations] = useState<LocationRow[]>([]);
  const [filterZone, setFilterZone] = useState<string>("All");

  // Add form
  const [newLoc, setNewLoc] = useState({
    zone: "EaDo",
    name: "",
    category: "networking",
    address: "",
    lat: "",
    lng: "",
    suggested_mission: "",
  });

  async function getToken() {
    const { data } = await supabase.auth.getSession();
    return data.session?.access_token ?? null;
  }

  async function loadAdminCohorts() {
    setLoading(true);
    setMsg("");

    const token = await getToken();
    if (!token) {
      setMsg("Please log in.");
      setLoading(false);
      return;
    }

    const res = await fetch("/api/admin/my-cohorts", {
      headers: { Authorization: `Bearer ${token}` },
    });

    const data = await res.json();
    if (!res.ok) {
      setMsg(data?.error || "Failed to load admin cohorts.");
      setLoading(false);
      return;
    }

    const list = data.cohorts || [];
    setCohorts(list);

    const saved = Number(localStorage.getItem("sra_last_cohort_id") || "");
    const first = list?.[0]?.id ?? null;
    const chosen = saved && list.some((c: Cohort) => c.id === saved) ? saved : first;
    setCohortId(chosen || null);

    setLoading(false);
  }

  async function loadCohortInfo(cid: number) {
    setMsg("");
    const token = await getToken();
    if (!token) return;

    const res = await fetch(`/api/admin/program-by-cohort?cohortId=${cid}`, {
      headers: { Authorization: `Bearer ${token}` },
    });

    const data = await res.json();
    if (!res.ok) {
      setMsg(data?.error || "Failed to resolve program.");
      return;
    }

    setCohortInfo(data.cohort);
  }

  async function loadLocations(cid: number, pid: number) {
    setMsg("");
    const token = await getToken();
    if (!token) return;

    const res = await fetch(`/api/admin/locations?cohortId=${cid}&programId=${pid}`, {
      headers: { Authorization: `Bearer ${token}` },
    });

    const data = await res.json();
    if (!res.ok) {
      setMsg(data?.error || "Failed to load locations.");
      return;
    }

    setLocations(data.locations || []);
  }

  const filtered = useMemo(() => {
    if (filterZone === "All") return locations;
    return locations.filter((l) => l.zone === filterZone);
  }, [locations, filterZone]);

  async function createLocation() {
    setMsg("");
    if (!cohortId || !programId) return;

    const token = await getToken();
    if (!token) return;

    const res = await fetch("/api/admin/locations", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: `Bearer ${token}`,
      },
      body: JSON.stringify({
        cohortId,
        programId,
        location: newLoc,
      }),
    });

    const data = await res.json();
    if (!res.ok) {
      setMsg(data?.error || "Failed to create location.");
      return;
    }

    setMsg("Location created.");
    setNewLoc({ zone: "EaDo", name: "", category: "networking", address: "", lat: "", lng: "", suggested_mission: "" });
    await loadLocations(cohortId, programId);
  }

  async function patchLocation(id: number, patch: Partial<LocationRow>) {
    setMsg("");
    if (!cohortId) return;

    const token = await getToken();
    if (!token) return;

    const res = await fetch("/api/admin/locations", {
      method: "PATCH",
      headers: {
        "Content-Type": "application/json",
        Authorization: `Bearer ${token}`,
      },
      body: JSON.stringify({ cohortId, id, patch }),
    });

    const data = await res.json();
    if (!res.ok) {
      setMsg(data?.error || "Update failed.");
      return;
    }

    setLocations((prev) => prev.map((l) => (l.id === id ? data.location : l)));
  }

  async function deleteLocation(id: number) {
    setMsg("");
    if (!cohortId || !programId) return;

    const token = await getToken();
    if (!token) return;

    const res = await fetch("/api/admin/locations", {
      method: "DELETE",
      headers: {
        "Content-Type": "application/json",
        Authorization: `Bearer ${token}`,
      },
      body: JSON.stringify({ cohortId, id }),
    });

    const data = await res.json();
    if (!res.ok) {
      setMsg(data?.error || "Delete failed.");
      return;
    }

    setMsg("Deleted.");
    setLocations((prev) => prev.filter((l) => l.id !== id));
  }

  useEffect(() => {
    loadAdminCohorts();
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []);

  useEffect(() => {
    if (cohortId) {
      localStorage.setItem("sra_last_cohort_id", String(cohortId));
      loadCohortInfo(cohortId);
    }
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [cohortId]);

  useEffect(() => {
    if (cohortId && programId) loadLocations(cohortId, programId);
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [cohortId, programId]);

  return (
    <main className="min-h-screen bg-zinc-950 text-zinc-100">
      <div className="mx-auto max-w-6xl px-6 py-12">
        <div className="flex flex-wrap items-end justify-between gap-4">
          <div>
            <h1 className="text-2xl font-semibold tracking-tight">Admin — Locations</h1>
            <p className="mt-1 text-sm text-zinc-300">
              Manage Houston “Dungeons” for this program.
            </p>
          </div>
          <div className="flex gap-2">
            <Link
              href="/dashboard"
              className="rounded-xl border border-zinc-800 bg-zinc-950 px-4 py-2 text-sm text-zinc-200"
            >
              Back to HUD
            </Link>
            <Link
              href="/admin/invites"
              className="rounded-xl border border-zinc-800 bg-zinc-950 px-4 py-2 text-sm text-zinc-200"
            >
              Admin Invites
            </Link>
          </div>
        </div>

        {msg ? (
          <div className="mt-6 rounded-xl border border-zinc-800 bg-zinc-900/40 px-4 py-3 text-sm text-zinc-200">
            {msg}
          </div>
        ) : null}

        <div className="mt-8 grid grid-cols-1 gap-6 lg:grid-cols-3">
          {/* Left: Cohort + Add */}
          <section className="rounded-2xl border border-zinc-800 bg-zinc-900/40 p-6 lg:col-span-1">
            <div className="text-sm font-semibold text-zinc-200">Cohort</div>

            <div className="mt-3">
              <div className="text-xs text-zinc-400">Select cohort</div>
              <select
                value={cohortId ?? ""}
                onChange={(e) => setCohortId(Number(e.target.value))}
                className="mt-2 w-full rounded-xl border border-zinc-800 bg-zinc-950 px-3 py-3 text-sm outline-none focus:border-zinc-600"
                disabled={loading}
              >
                <option value="" disabled>
                  {loading ? "Loading..." : "Select"}
                </option>
                {cohorts.map((c) => (
                  <option key={c.id} value={c.id}>
                    {c.name} (#{c.id})
                  </option>
                ))}
              </select>
            </div>

            <div className="mt-4 rounded-xl border border-zinc-800 bg-zinc-950 px-4 py-3 text-xs text-zinc-300">
              <div>
                <span className="text-zinc-400">Program:</span>{" "}
                {programId ? `#${programId}` : "—"}
              </div>
              <div className="mt-1">
                <span className="text-zinc-400">Cohort:</span>{" "}
                {cohortInfo?.name ? cohortInfo.name : "—"}
              </div>
            </div>

            <div className="mt-6 border-t border-zinc-800 pt-6">
              <div className="text-sm font-semibold text-zinc-200">Add Location</div>
              <div className="mt-1 text-xs text-zinc-400">
                Add lat/lng to enable map pins.
              </div>

              <div className="mt-4 grid gap-3">
                <Field label="Zone">
                  <select
                    value={newLoc.zone}
                    onChange={(e) => setNewLoc({ ...newLoc, zone: e.target.value })}
                    className="w-full rounded-xl border border-zinc-800 bg-zinc-950 px-3 py-3 text-sm outline-none focus:border-zinc-600"
                  >
                    {ZONES.map((z) => (
                      <option key={z} value={z}>
                        {z}
                      </option>
                    ))}
                  </select>
                </Field>

                <Field label="Name">
                  <input
                    value={newLoc.name}
                    onChange={(e) => setNewLoc({ ...newLoc, name: e.target.value })}
                    className="w-full rounded-xl border border-zinc-800 bg-zinc-950 px-4 py-3 text-sm outline-none focus:border-zinc-600"
                    placeholder="Buffalo Bayou Park"
                  />
                </Field>

                <Field label="Category">
                  <input
                    value={newLoc.category}
                    onChange={(e) => setNewLoc({ ...newLoc, category: e.target.value })}
                    className="w-full rounded-xl border border-zinc-800 bg-zinc-950 px-4 py-3 text-sm outline-none focus:border-zinc-600"
                    placeholder="park / coffee / networking / open-house / field"
                  />
                </Field>

                <Field label="Address">
                  <input
                    value={newLoc.address}
                    onChange={(e) => setNewLoc({ ...newLoc, address: e.target.value })}
                    className="w-full rounded-xl border border-zinc-800 bg-zinc-950 px-4 py-3 text-sm outline-none focus:border-zinc-600"
                    placeholder="1800 Allen Pkwy, Houston, TX"
                  />
                </Field>

                <div className="grid grid-cols-2 gap-3">
                  <Field label="Lat">
                    <input
                      value={newLoc.lat}
                      onChange={(e) => setNewLoc({ ...newLoc, lat: e.target.value })}
                      className="w-full rounded-xl border border-zinc-800 bg-zinc-950 px-4 py-3 text-sm outline-none focus:border-zinc-600"
                      placeholder="29.76"
                    />
                  </Field>
                  <Field label="Lng">
                    <input
                      value={newLoc.lng}
                      onChange={(e) => setNewLoc({ ...newLoc, lng: e.target.value })}
                      className="w-full rounded-xl border border-zinc-800 bg-zinc-950 px-4 py-3 text-sm outline-none focus:border-zinc-600"
                      placeholder="-95.36"
                    />
                  </Field>
                </div>

                <Field label="Suggested Mission">
                  <textarea
                    value={newLoc.suggested_mission}
                    onChange={(e) => setNewLoc({ ...newLoc, suggested_mission: e.target.value })}
                    rows={3}
                    className="w-full rounded-xl border border-zinc-800 bg-zinc-950 px-4 py-3 text-sm outline-none focus:border-zinc-600"
                    placeholder="Walk + 5 micro-convos + 1 short video"
                  />
                </Field>

                <button
                  onClick={createLocation}
                  disabled={!cohortId || !programId || !newLoc.name.trim()}
                  className="mt-1 w-full rounded-xl bg-zinc-100 px-4 py-3 text-sm font-semibold text-zinc-950 disabled:opacity-50"
                >
                  Create Location
                </button>
              </div>
            </div>
          </section>

          {/* Right: Table */}
          <section className="rounded-2xl border border-zinc-800 bg-zinc-900/40 p-6 lg:col-span-2">
            <div className="flex flex-wrap items-end justify-between gap-3">
              <div>
                <div className="text-sm font-semibold text-zinc-200">Locations</div>
                <div className="mt-1 text-xs text-zinc-400">
                  Inline edits save immediately (blur or press Enter).
                </div>
              </div>

              <div className="flex gap-2">
                <select
                  value={filterZone}
                  onChange={(e) => setFilterZone(e.target.value)}
                  className="rounded-xl border border-zinc-800 bg-zinc-950 px-3 py-2 text-sm outline-none focus:border-zinc-600"
                >
                  <option value="All">All zones</option>
                  {ZONES.map((z) => (
                    <option key={z} value={z}>
                      {z}
                    </option>
                  ))}
                </select>

                <button
                  onClick={() => cohortId && programId && loadLocations(cohortId, programId)}
                  className="rounded-xl border border-zinc-800 bg-zinc-950 px-3 py-2 text-sm text-zinc-200"
                >
                  Refresh
                </button>
              </div>
            </div>

            <div className="mt-5 overflow-hidden rounded-xl border border-zinc-800">
              <div className="overflow-x-auto">
                <table className="w-full text-left text-sm">
                  <thead className="bg-zinc-950 text-zinc-300">
                    <tr>
                      <th className="px-4 py-3">Zone</th>
                      <th className="px-4 py-3">Name</th>
                      <th className="px-4 py-3">Category</th>
                      <th className="px-4 py-3">Address</th>
                      <th className="px-4 py-3">Lat</th>
                      <th className="px-4 py-3">Lng</th>
                      <th className="px-4 py-3">Mission</th>
                      <th className="px-4 py-3">Actions</th>
                    </tr>
                  </thead>
                  <tbody className="divide-y divide-zinc-800">
                    {filtered.length === 0 ? (
                      <tr>
                        <td colSpan={8} className="px-4 py-5 text-zinc-400">
                          No locations found.
                        </td>
                      </tr>
                    ) : (
                      filtered.map((l) => (
                        <tr key={l.id} className="bg-zinc-900/20 align-top">
                          <td className="px-4 py-3">
                            <select
                              defaultValue={l.zone}
                              onChange={(e) => patchLocation(l.id, { zone: e.target.value })}
                              className="rounded-lg border border-zinc-800 bg-zinc-950 px-2 py-2 text-xs outline-none focus:border-zinc-600"
                            >
                              {ZONES.map((z) => (
                                <option key={z} value={z}>
                                  {z}
                                </option>
                              ))}
                            </select>
                          </td>

                          <td className="px-4 py-3">
                            <input
                              defaultValue={l.name}
                              onBlur={(e) => patchLocation(l.id, { name: e.target.value })}
                              onKeyDown={(e) => {
                                if (e.key === "Enter") (e.target as HTMLInputElement).blur();
                              }}
                              className="w-56 rounded-lg border border-zinc-800 bg-zinc-950 px-2 py-2 text-xs outline-none focus:border-zinc-600"
                            />
                          </td>

                          <td className="px-4 py-3">
                            <input
                              defaultValue={l.category}
                              onBlur={(e) => patchLocation(l.id, { category: e.target.value })}
                              onKeyDown={(e) => {
                                if (e.key === "Enter") (e.target as HTMLInputElement).blur();
                              }}
                              className="w-32 rounded-lg border border-zinc-800 bg-zinc-950 px-2 py-2 text-xs outline-none focus:border-zinc-600"
                            />
                          </td>

                          <td className="px-4 py-3">
                            <input
                              defaultValue={l.address ?? ""}
                              onBlur={(e) => patchLocation(l.id, { address: e.target.value })}
                              onKeyDown={(e) => {
                                if (e.key === "Enter") (e.target as HTMLInputElement).blur();
                              }}
                              className="w-72 rounded-lg border border-zinc-800 bg-zinc-950 px-2 py-2 text-xs outline-none focus:border-zinc-600"
                            />
                          </td>

                          <td className="px-4 py-3">
                            <input
                              defaultValue={l.lat ?? ""}
                              onBlur={(e) => patchLocation(l.id, { lat: e.target.value })}
                              onKeyDown={(e) => {
                                if (e.key === "Enter") (e.target as HTMLInputElement).blur();
                              }}
                              className="w-24 rounded-lg border border-zinc-800 bg-zinc-950 px-2 py-2 text-xs outline-none focus:border-zinc-600"
                              placeholder="29.xx"
                            />
                          </td>

                          <td className="px-4 py-3">
                            <input
                              defaultValue={l.lng ?? ""}
                              onBlur={(e) => patchLocation(l.id, { lng: e.target.value })}
                              onKeyDown={(e) => {
                                if (e.key === "Enter") (e.target as HTMLInputElement).blur();
                              }}
                              className="w-24 rounded-lg border border-zinc-800 bg-zinc-950 px-2 py-2 text-xs outline-none focus:border-zinc-600"
                              placeholder="-95.xx"
                            />
                          </td>

                          <td className="px-4 py-3">
                            <textarea
                              defaultValue={l.suggested_mission ?? ""}
                              onBlur={(e) => patchLocation(l.id, { suggested_mission: e.target.value })}
                              className="h-16 w-72 resize-none rounded-lg border border-zinc-800 bg-zinc-950 px-2 py-2 text-xs outline-none focus:border-zinc-600"
                            />
                          </td>

                          <td className="px-4 py-3">
                            <button
                              onClick={() => deleteLocation(l.id)}
                              className="rounded-lg border border-red-900/60 bg-red-950/30 px-3 py-2 text-xs text-red-200"
                            >
                              Delete
                            </button>
                          </td>
                        </tr>
                      ))
                    )}
                  </tbody>
                </table>
              </div>
            </div>

            <div className="mt-4 text-xs text-zinc-500">
              Add coordinates to enable pins on <span className="font-mono">/map</span>. Lat/Lng are decimals (e.g., 29.7604 / -95.3698).
            </div>
          </section>
        </div>
      </div>
    </main>
  );
}

function Field({ label, children }: { label: string; children: React.ReactNode }) {
  return (
    <div>
      <div className="text-xs text-zinc-400">{label}</div>
      <div className="mt-2">{children}</div>
    </div>
  );
}


⸻

4) Optional: make “Locations” read-only for non-admins

You already enforced that in the admin API routes. Good.

⸻

Next best upgrade

If you want, I’ll add a “bulk coordinate helper” inside this page:
	•	paste a Google Maps link → auto extracts lat/lng
	•	or paste lat,lng quickly into a single field

Say: “Add coordinate helper” and I’ll drop that in.